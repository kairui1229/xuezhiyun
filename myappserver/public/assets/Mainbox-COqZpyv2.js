import{r as V,j as L,i as M,k as U,u as R,f as n,l as r,o,w as e,b as t,e as B,c as v,F as b,m as S,n as j,h as x,p as C,t as z,q as A,s as D,v as E,x as F,y as H,z as I,A as P,B as m,d as p,_ as $,g as q,C as G}from"./index-BKQqOCZ2.js";const K={__name:"SideMenu",setup(N){const c=V([]),_={List:P,School:I,PieChart:H,OfficeBuilding:F,Grid:E,Key:D,User:A,TrendCharts:z};L(async()=>{const s=await M.get("/adminapi/rights");c.value=s.data});const i=U(),{user:{role:{rights:d}}}=R(),u=s=>d.includes(s);return(s,T)=>{const a=n("el-icon"),f=n("el-menu-item"),h=n("el-sub-menu"),k=n("el-menu"),w=n("el-scrollbar"),y=n("el-aside");return o(),r(y,{width:"200px"},{default:e(()=>[t(w,null,{default:e(()=>[t(k,{class:"el-menu-vertical-demo",style:{height:"100vh"},router:!0,"default-active":B(i).fullPath},{default:e(()=>[(o(!0),v(b,null,S(c.value,l=>(o(),v(b,{key:l.path},[l.children.length&&u(l.path)?(o(),r(h,{key:0,index:l.path},{title:e(()=>[t(a,null,{default:e(()=>[(o(),r(C(_[l.icon])))]),_:2},1024),x(" "+m(l.title),1)]),default:e(()=>[(o(!0),v(b,null,S(l.children,g=>(o(),r(f,{index:g.path,key:g.path},{default:e(()=>[t(a,null,{default:e(()=>[(o(),r(C(_[g.icon])))]),_:2},1024),x(" "+m(g.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):u(l.path)?(o(),r(f,{key:1,index:l.path},{default:e(()=>[t(a,null,{default:e(()=>[(o(),r(C(_[l.icon])))]),_:2},1024),p("span",null,m(l.title),1)]),_:2},1032,["index"])):j("",!0)],64))),128))]),_:1},8,["default-active"])]),_:1})]),_:1})}}},O={style:{"line-height":"40px"}},J={__name:"TopHeader",setup(N){const c=q(),{changeUser:_,user:{role:{roleName:i},username:d}}=R(),{changeRouter:u}=G(),s=()=>{_({}),u(!1),c.push("/login")};return(T,a)=>{const f=n("el-avatar"),h=n("el-dropdown-item"),k=n("el-dropdown-menu"),w=n("el-dropdown"),y=n("el-header");return o(),r(y,null,{default:e(()=>[a[1]||(a[1]=p("div",null," 智学数据分析系统 ",-1)),p("div",null,[p("span",O,"欢迎"+m(B(d))+"回来",1),t(w,null,{dropdown:e(()=>[t(k,null,{default:e(()=>[t(h,null,{default:e(()=>[x(m(B(i)),1)]),_:1}),t(h,{onClick:s},{default:e(()=>a[0]||(a[0]=[x("退出")])),_:1})]),_:1})]),default:e(()=>[p("span",null,[t(f,{size:40,src:"https://nicedprk.com/kindeditor/attached/image/20160922/20160922155465976597.jpg"})])]),_:1})])]),_:1})}}},Q=$(J,[["__scopeId","data-v-68063aa6"]]),X={__name:"Mainbox",setup(N){return(c,_)=>{const i=n("router-view"),d=n("el-scrollbar"),u=n("el-main"),s=n("el-container");return o(),v("div",null,[t(s,{style:{height:"100vh"}},{default:e(()=>[t(K),t(s,{direction:"vertical"},{default:e(()=>[t(Q),t(u,null,{default:e(()=>[t(d,null,{default:e(()=>[t(i)]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{X as default};
